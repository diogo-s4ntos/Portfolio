<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diogo Santos</title>
    <link rel="icon" href="../ASSETS/favicon.ico">

    <!-- Style -->
    <link rel="stylesheet" href="../CSS/feedback.css">
    <link rel="stylesheet" href="../CSS/header.css">
    <link rel="stylesheet" href="../CSS/scrollbar.css">
    <link rel="stylesheet" href="../CSS/root.css">
</head>

<body>
    <header>
        <a href="../index.html" id="logo"></a>

        <nav>
            <ul>
                <li><a href="../index.html" id="home">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="experiences.html">Experiences</a></li>
                <li><a href="work.html">Work</a></li>
                <div id="interact-container">
                    <li id="interact"><span>Interact <img src="../ASSETS/icons/arrow.png" alt=""
                                draggable="false"></span></li>
                    <div id="interact-options">
                        <a href="contact.html">Contact</a>
                        <a href="feedback.html">Feedback</a>
                    </div>
                </div>
            </ul>
        </nav>
    </header>
    <main>
        <h1>Feedback</h1>

        <form action="" onsubmit="addFeedback(); return false;">
            <input type="text" placeholder="Name" id="name">
            <input type="submit" id="submit">
            <textarea name="message" id="message" placeholder="Message"></textarea>
        </form>

        <div id="feedbacks"></div>
    </main>

    <!-- Script -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-analytics.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.2/firebase-firestore.js";

        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyD8vgyorWJsrBOu_x22u2t_08t_ZNmfG-k",
            authDomain: "portfolio-4eeb6.firebaseapp.com",
            projectId: "portfolio-4eeb6",
            storageBucket: "portfolio-4eeb6.appspot.com",
            messagingSenderId: "416545766921",
            appId: "1:416545766921:web:749d8142421be2a64702d8",
            measurementId: "G-K4JDJPMT69"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);

        // Get a reference to the Firestore database
        const db = getFirestore(app);

        // Add a new document with a generated id.
        const addFeedback = async () => {
            try {
                const feedbackCollection = collection(db, "feedback");

                // Set the data you want to add
                const feedbackData = {
                    age: 25
                    // Add more fields if needed
                };

                // Add the document to the collection
                const docRef = await addDoc(feedbackCollection, feedbackData);

                console.log("Document written with ID: ", docRef.id);
            } catch (e) {
                console.error("Error adding document: ", e);
            }
        };
    </script>
    <script src="../JS/feedback.js"></script>
</body>

</html>